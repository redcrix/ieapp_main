<ion-content>
  <div class="btn-back-content-item" [ngClass]="{'btn-back-content-item-ios':_globalServ?.iosDivice}">
    <span (click)="goBack()" class="btn-back-item fas fa-chevron-left"></span>
  </div>
  <div>
    <img class="main-item-image" src="{{url}}{{getItem?.image}}">
  </div>
  <div class="container">
    <div class="row">
      <div class="col-md-2"></div>
      <div class="col-md-8">

        <div>
          <h2>
            <span class="item-title">{{getItem?.title}}</span>
          </h2>
        </div>
        <div class="box-center-full">
          <div *ngIf="joined == true" class="box-blue-circle" (click)="joinPlan()">
            <img width="48px" height="48px" src="../../../assets/img/checked.png"/>
            <p class="secondary-text"  style="color: #179ed5; margin-top: 5px">{{'plan-item.joined' | translate}}</p>
          </div>
          <div *ngIf="joined != true" class="box-blue-circle" (click)="joinPlan()">
            <img width="48px" height="48px" src="../../../assets/img/plus.png"/>
            <p class="secondary-text" style="color: #179ed5; margin-top: 5px">{{'plan-item.join' | translate}}</p>
          </div>
        </div>
        <table>
          <tr class="weight-600">
            <td>
              <ion-icon class="icon-item" name="information-circle"></ion-icon>
            </td>
            <td class="title-item">{{ 'plan-item.details' | translate }}</td>
          </tr>
          <tr>
            <td></td>
            <td class="secondary-text">{{getItem?.description}}</td>
          </tr>
          <tr>
            <td></td>
            <td class="blue-text size-18-pt">{{ 'plan-item.readMore' | translate }}</td>
          </tr>
        </table>

        <table>
          <tr class="weight-600">
            <td>
              <ion-icon class="icon-item" name="star"></ion-icon>
            </td>
            <td class="title-item">{{ 'plan-item.createBy' | translate }}</td>
          </tr>
          <tr>
            <td></td>
            <td class="secondary-text">
              <ion-item (click)="goToViewProfile()" lines="none">
                <ion-avatar slot="start">
                  <img *ngIf="_globalServ?.org == 'CEU' && getItem?.Ceu_User?.image != null" src="{{urlImageProfile}}/{{getItem?.Ceu_User?.image}}">
                  <img *ngIf="_globalServ?.org == 'CEU' && getItem?.Ceu_User?.image == null" src="../../../assets/img/empty_avatar.png">
                  <img *ngIf="_globalServ?.org == 'IE' && getItem?.IE_User?.image != null" src="{{urlImageProfile}}/{{getItem?.IE_User?.image}}">
                  <img *ngIf="_globalServ?.org == 'IE' && getItem?.IE_User?.image == null" src="../../../assets/img/empty_avatar.png">
                </ion-avatar>
                <ion-label *ngIf="getItem?.Ceu_User" style="color: #888;">{{getItem?.Ceu_User?.first_name}} {{getItem?.Ceu_User?.last_name}}</ion-label>
                <ion-label *ngIf="getItem?.IE_User.first_name" style="color: #888;">{{getItem?.IE_User?.first_name}} {{getItem?.IE_User?.last_name}}</ion-label>
                <ion-label *ngIf="getItem?.IE_User.name" style="color: #888;">{{getItem?.IE_User?.name}}</ion-label>
              </ion-item>
            </td>
          </tr>
          <tr>
            <td></td>
            <td>
              <ion-chip class="btn-blue-general">
                <ion-label>Instagram</ion-label>
              </ion-chip>
            </td>
          </tr>
        </table>

        <table>
          <tr class="weight-600">
            <td>
              <ion-icon class="icon-item" name="checkmark-circle"></ion-icon>
            </td>
            <td class="title-item">{{ 'plan-item.going' | translate }}</td>
          </tr>
          <tr>
            <td></td>
            <td class="secondary-text">
              <ion-item *ngIf="remainingUsers !== 0" lines="none">
                <ion-avatar *ngFor="let item of getParticipants?.participants" slot="start">
                  <img *ngIf="_globalServ?.org == 'CEU' && item?.Ceu_User?.image != null && item?.Ceu_User?.image != ''" [src]="item?.Ceu_User?.image">
                  <img *ngIf="_globalServ?.org == 'CEU' && item?.Ceu_User?.image == null || item?.Ceu_User?.image == ''" src="assets/img/empty_avatar.png">
                  <img *ngIf="_globalServ?.org == 'IE' && item?.IE_User?.image != null && item?.IE_User?.image != ''" [src]="item?.IE_User?.image">
                  <img *ngIf="_globalServ?.org == 'IE' && item?.IE_User?.image == null || item?.IE_User?.image == ''" src="assets/img/empty_avatar.png">
                </ion-avatar>
                <span class="grey-circle">+{{remainingUsers}}</span>
              </ion-item>
            </td>
          </tr>
        </table>

        <table>
          <tr class="weight-600">
            <td>
              <ion-icon class="icon-item" name="clock"></ion-icon>
            </td>
            <td class="title-item">{{ 'plan-item.dateAndTime' | translate }}</td>
          </tr>
          <tr class="secondary-text">
            <td></td>
            <td>{{getItem?.plan_date | date:'mediumDate'}}</td>
          </tr>
          <tr class="secondary-text">
            <td></td>
            <td>{{getItem?.plan_date | date:'mediumTime'}}</td>
          </tr>
          <tr>
          <!--<tr class="secondary-text">
            <td></td>
            <td>10:00 - 11:00</td>
          </tr>-->
          <tr>
            <td></td>
            <td>
              <ion-chip class="btn-blue-general">
				        <ion-label *ngIf="!AddedToCalender" (click)="AddToCalender(getItem)">{{ 'plan-item.addToCalendar' | translate }}</ion-label>
				        <ion-label  *ngIf="AddedToCalender" >{{ 'plan-item.addedToCalendar' | translate }}</ion-label>
              </ion-chip>
            </td>
          </tr>
        </table>

        <table>
          <tr class="weight-600">
            <td>
              <ion-icon class="icon-item" name="pin"></ion-icon>
            </td>
            <td class="title-item">{{ 'plan-item.location' | translate }}</td>
          </tr>
          <tr class="secondary-text">
            <td></td>
            <td *ngIf="_globalServ?.language == 'en'">{{item?.Place?.name_EN}}</td>
            <td *ngIf="_globalServ?.language == 'es'">{{item?.Place?.name_ES}}</td>
          </tr>
          <tr>
            <tr class="secondary-text">
              <td></td>
              <td>{{getItem?.address}}</td>
            </tr>
            <tr>
              <td></td>
              <td>
                <ion-chip class="btn-blue-general" (click)="goToLink()">
                  <ion-label>{{ 'plan-item.website' | translate }}</ion-label>
                </ion-chip>
                <ion-chip class="btn-blue-general">
                  <ion-label>{{ 'plan-item.directions' | translate }}</ion-label>
                </ion-chip>
              </td>
            </tr>
          </table>
          <div [style.display]="getControlsOnStyleDisplay()" class="box-map-one">
            <div id="map" class="map-one" #map></div>
          </div>
          <table>
            <tr class="weight-600">
              <td>
                <ion-icon class="icon-item" name="ios-pricetag"></ion-icon>
              </td>
              <td class="title-item">{{ 'plan-item.price' | translate }}</td>
            </tr>
            <tr class="secondary-text">
              <td></td>
              <td *ngIf="(getItem?.Place?.price_ES == null || getItem?.Place?.price_ES == '') && (getItem?.Place?.price_EN == null || getItem?.Place?.price_EN == '')">Free</td>
              <td *ngIf="_globalServ?.language == 'en'">{{getItem?.Place?.price_EN}}</td>
              <td *ngIf="_globalServ?.language == 'es'">{{getItem?.Place?.price_ES}}</td>
            </tr>
            <tr>
            </table>

            <table class="margin-last-table">
              <tr class="weight-600">
                <td>
                  <ion-icon class="icon-item" name="ios-share"></ion-icon>
                </td>
                <td class="title-item">{{ 'plan-item.share' | translate }}</td>
              </tr>
              <tr class="secondary-text">
                <td></td>
                <td>
                  <ion-chip class="btn-facebook">
                    <ion-label>Facebook</ion-label>
                  </ion-chip>
                  <ion-chip class="btn-twitter">
                    <ion-label>Twitter</ion-label>
                  </ion-chip>
                  <ion-chip class="btn-email">
                    <ion-label>{{ 'plan-item.email' | translate }}</ion-label>
                  </ion-chip>
                  <ion-chip class="btn-whatsapp">
                    <ion-label>WhatsApp</ion-label>
                  </ion-chip>
                </td>
              </tr>
              <tr>
              </table>

            </div>
            <div class="col-md-2"></div>
          </div>
        </div>
      </ion-content>