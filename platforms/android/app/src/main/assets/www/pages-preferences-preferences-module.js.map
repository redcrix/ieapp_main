{"version":3,"sources":["webpack:///./src/app/pages/preferences/preferences.module.ts","webpack:///./src/app/pages/preferences/preferences.page.html","webpack:///./src/app/pages/preferences/preferences.page.scss","webpack:///./src/app/pages/preferences/preferences.page.ts","webpack:///./src/app/services/preferences.service.ts"],"names":[],"mappings":"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","file":"pages-preferences-preferences-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { PreferencesPage } from './preferences.page';\n\nimport { ComponentModule } from '../../components/component.module';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: PreferencesPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ComponentModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [PreferencesPage]\n})\nexport class PreferencesPageModule {}\n","module.exports = \"<ion-content>\\n  <toolbar *ngIf=\\\"showTitle == true\\\" [back]=\\\"true\\\"></toolbar>\\n  <toolbar *ngIf=\\\"showTitle == null\\\" title=\\\"{{ 'preferences.preferences' | translate }}\\\" [back]=\\\"true\\\"></toolbar>\\n  <div class=\\\"container\\\">\\n    <div class=\\\"row\\\">\\n      <div class=\\\"col-md-2\\\"></div>\\n      <div class=\\\"col-md-8\\\">\\n        <div *ngIf=\\\"showText != true\\\" class=\\\"preferences-top\\\"></div>\\n        <h1 *ngIf=\\\"showTitle == true\\\" class=\\\"title\\\">{{ 'preferences.preferences' | translate }}</h1>\\n        <div *ngIf=\\\"showText == true\\\" class=\\\"secondary-text\\\">\\n          {{ 'preferences.explanation' | translate }}\\n        </div>\\n        <form>\\n          <ion-list lines=\\\"none\\\">\\n            <ion-item *ngFor=\\\"let item of getSupercategories;let i = index\\\" (click)=\\\"changeStatus(item,i)\\\">\\n              <ion-label *ngIf=\\\"_globalServ?.language == 'es'\\\">{{item?.name_ES}}</ion-label>\\n              <ion-label *ngIf=\\\"_globalServ?.language == 'en'\\\">{{item?.name_EN}}</ion-label>\\n              <ion-checkbox [checked]=\\\"item?.checked == true\\\" slot=\\\"end\\\"></ion-checkbox>\\n            </ion-item>\\n            <div class=\\\"box-center-full\\\">\\n              <ion-button *ngIf=\\\"save == true\\\" (click)=\\\"saveFirstTime()\\\" class=\\\"button-one\\\" shape=\\\"round\\\">\\n                <span *ngIf=\\\"fromSetting != true\\\">{{ 'preferences.saveAndContinue' | translate }}</span>\\n                <span *ngIf=\\\"fromSetting == true\\\">{{ 'preferences.save' | translate }}</span>\\n              </ion-button>\\n              <ion-button *ngIf=\\\"selectBtn == true\\\" (click)=\\\"select()\\\" class=\\\"button-one\\\" shape=\\\"round\\\">\\n                <span>Select</span>\\n              </ion-button>\\n            </div>\\n          </ion-list>\\n        </form>\\n      </div>\\n      <div class=\\\"col-md-2\\\"></div>\\n    </div>\\n  </div>\\n</ion-content>\"","module.exports = \".secondary-text {\\n  margin-top: 10px; }\\n\\n.button-one {\\n  margin-top: 15PX; }\\n\\n.preferences-top {\\n  margin-top: 20px; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2FrNDcvaWVhcHAvc3JjL2FwcC9wYWdlcy9wcmVmZXJlbmNlcy9wcmVmZXJlbmNlcy5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxnQkFBZ0IsRUFBQTs7QUFHcEI7RUFDSSxnQkFBZ0IsRUFBQTs7QUFHcEI7RUFDSSxnQkFBZ0IsRUFBQSIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL3ByZWZlcmVuY2VzL3ByZWZlcmVuY2VzLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5zZWNvbmRhcnktdGV4dHtcbiAgICBtYXJnaW4tdG9wOiAxMHB4O1xufVxuXG4uYnV0dG9uLW9uZXtcbiAgICBtYXJnaW4tdG9wOiAxNVBYO1xufVxuXG4ucHJlZmVyZW5jZXMtdG9we1xuICAgIG1hcmdpbi10b3A6IDIwcHg7XG59Il19 */\"","import { Component, OnInit } from '@angular/core';\nimport { Router, NavigationExtras } from '@angular/router';\nimport { ActivatedRoute } from '@angular/router';\nimport { PreferencesService } from '../../services/preferences.service';\nimport { GlobalService } from '../../services/global.service';\nimport { Location } from '@angular/common';\nimport { IfStmt } from '@angular/compiler';\n\n@Component({\n  selector: 'app-preferences',\n  templateUrl: './preferences.page.html',\n  styleUrls: ['./preferences.page.scss'],\n})\nexport class PreferencesPage implements OnInit {\n\n  showText: boolean;\n  showTitle: boolean;\n  save: boolean;\n  selectBtn: boolean;\n\n  getSupercategories: any;\n  getSupCatById: any;\n  idsSupCat: any[] = [];\n  fromSetting: any;\n\n  constructor(\n    private router: Router,\n    private actRoute: ActivatedRoute,\n    private _preferencesServ: PreferencesService,\n    private _globalServ: GlobalService,\n    private location: Location,\n  ) {\n    if (this.actRoute.snapshot.queryParams.data != null) {\n      let getParams = JSON.parse(this.actRoute.snapshot.queryParams.data);\n      this.showText = getParams.showText;\n      this.showTitle = getParams.showTitle;\n      this.fromSetting = getParams.fromSetting;\n      this.save = getParams.save;\n      this.selectBtn = getParams.select;\n    }\n    this._preferencesServ.getSupercategories({ 'active': 1 }).subscribe(data => {\n      this.getSupercategories = data;\n      if (this.selectBtn != true) {\n        this._preferencesServ.getSupercategoriesByUser(this._globalServ.idUser).subscribe(dataSupById => {\n          this.getSupCatById = dataSupById;\n          for (let itemOne of this.getSupercategories) {\n            for (let itemTwo of this.getSupCatById.user_preferences) {\n              if (itemOne.id == itemTwo.fk_supercategory_id) {\n                itemOne.checked = true;\n                this.idsSupCat.push(itemOne.id);\n              }\n            }\n          }\n        }, error => {\n          console.log(error);\n        });\n      } else {\n        if (this._globalServ.idsCategories != null) {\n          for (let itemOne of this.getSupercategories) {\n            for (let itemTwo of this._globalServ.idsCategories) {\n              if (itemOne.id == itemTwo) {\n                itemOne.checked = true;\n                this.idsSupCat.push(itemOne.id);\n              }\n            }\n          }\n        }\n      }\n    }, error => {\n      console.log(error);\n    })\n  }\n\n  ngOnInit() {\n  }\n\n  changeStatus(value: any, index: any) {\n    for (let item of this.getSupercategories) {\n      if (value.checked == null) {\n        if (item.id == value.id) {\n          item.checked = true;\n          this.idsSupCat.push(item.id);\n          return;\n        }\n      }\n      if (value.checked == true) {\n        if (item.id == value.id) {\n          item.checked = null;\n          let getIndex = this.idsSupCat.indexOf(value.id);\n          this.idsSupCat.splice(getIndex, 1);\n          return;\n        }\n      }\n    }\n  }\n\n  saveFirstTime() {\n    this._preferencesServ.saveSupercategories({ 'id': this._globalServ.idUser, 'supercategoryids': this.idsSupCat.toString() })\n      .subscribe(data => {\n        data;\n        let navigationExtras: NavigationExtras = {\n          queryParams: {\n            data: JSON.stringify({})\n          }, replaceUrl: true\n        };\n        if (this.fromSetting == true) {\n          this.location.back();\n        } else {\n          this.router.navigate(['preferences-ok'], navigationExtras)\n        }\n      }, error => {\n        console.log(error);\n      })\n  }\n\n  select() {\n    this._globalServ.idsCategories = this.idsSupCat;\n    this.location.back();\n  }\n\n\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { GlobalService } from '../services/global.service';\nimport { environment } from '../../environments/environment';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class PreferencesService {\n\n  constructor(\n    private http: HttpClient,\n    private _globalServ: GlobalService\n  ) { }\n\n  getSupercategories(value: any) {\n    return this.http.get(environment.apiUrl + '/supercategories', { params: value });\n  }\n\n  getSupercategoriesByUser(id: any) {\n    return this.http.get(environment.apiUrl + '/app-user-preferences/' + id);\n  }\n\n  saveSupercategories(value: any) {\n    return this.http.post(environment.apiUrl + '/app-user-set-preferences', value)\n  }\n\n}\n"],"sourceRoot":""}